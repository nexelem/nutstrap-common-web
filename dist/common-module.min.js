(function(){var EnhanceLog;EnhanceLog=function(){function EnhanceLog(){}return EnhanceLog.prototype.enhance=function($log){return $log.getInstance=function(_this){return function(context){return{log:_this.enhanceLogging($log.log,context),info:_this.enhanceLogging($log.info,context),warn:_this.enhanceLogging($log.warn,context),debug:_this.enhanceLogging($log.debug,context),error:_this.enhanceLogging($log.error,context)}}}(this)},EnhanceLog.prototype.enhanceLogging=function(loggingFunc,context){return function(){var modifiedArguments;return modifiedArguments=[].slice.call(arguments),modifiedArguments[0]=[(new Date).toLocaleTimeString("en-GB")+" ["+context+"] "]+modifiedArguments[0],loggingFunc.apply(null,modifiedArguments)}},EnhanceLog}(),commonModule.service("EnhanceLog",EnhanceLog)}).call(this),function(){commonModule.value("ngI18nConfig",{defaultLocale:"en",supportedLocales:["en"],basePath:"assets/i18n",cache:!0}),commonModule.value("i18nGroupData",[["unknown-value","operation_result_keys"],["unknown-value","confirmation_status"]]),commonModule.constant("RegExPatterns",{numericOnly:"/^[0-9]+$/",decimalType:"/^[0-9]+(.[0-9]+)?$/",decimalType2dp:"/^[0-9]+(.[0-9][0-9]?)?$/",phoneNumber:"/^[0]([0-9][ ]*){10,}$/"}),commonModule.constant("TaskEntityViewMapping",[{entity:"brand",parent_view:"brand",sub_view:"brand-view",entity_association_api:"brand"},{entity:"brand_extra",parent_view:"brand",sub_view:"extras/extra-manage",entity_association_api:"brand/extra"},{entity:"brand_rating",parent_view:"brand",sub_view:"ratings/rating-manage",entity_association_api:"brand/rating"},{entity:"brand_filter_fail",parent_view:"brand",sub_view:"filterfails/filterfail-manage",entity_association_api:"brand/filter"},{entity:"brand_offer",parent_view:"brand",sub_view:"offers/offer-manage",entity_association_api:"brand/offer"},{entity:"brand_extended_config",parent_view:"brand",sub_view:"extendedconfig/extendedconfig-manage",entity_association_api:"brand/config"},{entity:"provider",parent_view:"provider",sub_view:"provider-view",entity_association_api:"provider"},{entity:"translation_entry",parent_view:"provider",sub_view:"translation/translation-manage",entity_association_api:"provider/translation"}]),commonModule.constant("TaskStatus",{OPEN:"OPEN",DISCARDED:"DISCARDED",AWAITING_APPROVAL:"AWAITING_APPROVAL",READY_FOR_LIVE:"READY_FOR_LIVE",COMPLETE:"COMPLETE"}),commonModule.constant("TaskableViewsConfig",["brand-view","brand-update","extras/extra-manage","ratings/rating-manage","filterfails/filterfail-manage","offers/offer-manage","extendedconfig/extendedconfig-manage","provider-view","provider-update","translation/translation-manage","tsmEntity-view","tsmEntity-update"]),commonModule.constant("UserConfig",{API_CREATE_USER:"/user/create",API_UPDATE_USER:"/user/update",API_RESET_PASSWORD:"/user/password/reset",API_VALIDATE_USERNAME:"/user/username/validate/{username}",API_LIST_EXTERNAL_USER_GROUPS:"/user/external/groups",API_DELETE_EXTERNAL_USER_GROUPS:"/user/external/group/{groupId}",API_AUTHENTICATED:"/authenticated",API_LOGIN:"/login",API_LOGOUT:"/logout"}),commonModule.constant("TestPreviewConfig",{API_CREATE_PROFILE:"/profile/create",API_PROFILE_EVALUATE:"/profile/evaluate",API_GET_PROFILE:"/profile/{profileId}",API_UPDATE_PROFILE:"/profile/update",API_DELETE_PROFILE:"/profile/{profileId}",API_LIST_ALL_PROFILES:"/profiles",API_LIST_CHANNEL_PROFILES:"/profiles?channelId={channelId}",API_ENQUIRY_RESULTS:"/enquiry/results/{id}/{env}/{chn}/{acId}",API_CREATE_ENQUIRY:"/enquiry",API_GET_ENQUIRY_DEBUG_RESULTS:"/enquiry/results/debug/{id}/{env}/{chn}"})}.call(this),function(){var HttpService;HttpService=function(){function HttpService($log,$http,$q){this.$log=$log,this.$http=$http,this.$q=$q,this.$log.debug("constructing HttpService")}return HttpService.prototype.get=function(endpoint){var deferred;return deferred=this.$q.defer(),this.$http.get(endpoint).success(function(_this){return function(data,status,headers){return _this.$log.info("Successful GET request to ["+endpoint+"] - status ["+status+"]"),deferred.resolve(data)}}(this)).error(function(_this){return function(data,status,headers){return _this.$log.error("Failed GET request to ["+endpoint+"] - status ["+status+"]"),deferred.reject(data)}}(this)),deferred.promise},HttpService.prototype.post=function(endpoint,payload){var deferred;return deferred=this.$q.defer(),this.$http.post(endpoint,payload).success(function(_this){return function(data,status,headers){return _this.$log.info("Successful POST request to ["+endpoint+"] - status ["+status+"]"),deferred.resolve(data)}}(this)).error(function(_this){return function(data,status,headers){return _this.$log.error("Failed POST request to ["+endpoint+"] - status ["+status+"]"),deferred.reject(data)}}(this)),deferred.promise},HttpService.prototype.put=function(endpoint,payload){var deferred;return deferred=this.$q.defer(),this.$http.put(endpoint,payload).success(function(_this){return function(data,status,headers){return _this.$log.info("Successful PUT request to ["+endpoint+"] - status ["+status+"]"),deferred.resolve(data)}}(this)).error(function(_this){return function(data,status,headers){return _this.$log.error("Failed PUT request to ["+endpoint+"] - status ["+status+"]"),deferred.reject(data)}}(this)),deferred.promise},HttpService.prototype["delete"]=function(endpoint){var deferred;return deferred=this.$q.defer(),this.$http["delete"](endpoint).success(function(_this){return function(data,status,headers){return _this.$log.info("Successful DELETE request to ["+endpoint+"] - status ["+status+"]"),deferred.resolve(data)}}(this)).error(function(_this){return function(data,status,headers){return _this.$log.error("Failed DELETE request to ["+endpoint+"] - status ["+status+"]"),deferred.reject(data)}}(this)),deferred.promise},HttpService}(),commonModule.service("HttpService",HttpService)}.call(this),function(){var ConfigService;ConfigService=function(){function ConfigService($q,HttpService){this.$q=$q,this.HttpService=HttpService}return ConfigService.prototype.lookupEnvironmentConfig=function(){var deferred;return deferred=this.$q.defer(),this.HttpService.get("/environments").then(function(_this){return function(data){return deferred.resolve(data)}}(this),function(_this){return function(error){return deferred.reject(error)}}(this)),deferred.promise},ConfigService.prototype.lookupFilterConfig=function(channelId){var deferred;return deferred=this.$q.defer(),this.HttpService.get("/config/filterfails/"+channelId).then(function(_this){return function(data){return deferred.resolve(data.asMap)}}(this),function(_this){return function(error){return deferred.reject(error)}}(this)),deferred.promise},ConfigService.prototype.lookupExtraTypesConfig=function(channelId){var deferred;return deferred=this.$q.defer(),this.HttpService.get("/config/extratypes/"+channelId).then(function(_this){return function(data){return deferred.resolve(data.extraTypes)}}(this),function(_this){return function(error){return deferred.reject(error)}}(this)),deferred.promise},ConfigService}(),commonModule.service("ConfigService",ConfigService)}.call(this),function(){var DateService;DateService=function(){function DateService(){}return DateService.prototype.now=function(){return new Date},DateService}(),commonModule.service("DateService",DateService)}.call(this),function(){var ViewModel;ViewModel=function(){function ViewModel($log,$location1,TaskableViewsConfig){this.$location=$location1,this.$log=$log.getInstance("ViewModel"),this.$log.debug("constructing"),this.currentView="",this.TASKABLE_VIEWS=TaskableViewsConfig}return ViewModel.prototype.changePartial=function(name){return this.$log.debug("changing current view : ["+name+"]"),this.currentView=name,this.$location.hash("")},ViewModel.prototype.resetView=function(name){return this.changePartial(name)},ViewModel.prototype.navigateToSubViewOrReset=function(name){return this.sub_view?this.changePartial(this.sub_view):this.resetView(name),this.sub_view=""},ViewModel.prototype.changeSubViewPartial=function(sub_view){this.sub_view=sub_view},ViewModel.prototype.isTaskableView=function(){return-1!==this.TASKABLE_VIEWS.indexOf(this.currentView)},ViewModel}(),commonModule.factory("ViewModel",function($log,$location,TaskableViewsConfig){return new ViewModel($log,$location,TaskableViewsConfig)})}.call(this);